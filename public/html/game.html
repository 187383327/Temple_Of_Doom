<!DOCTYPE html>
<html>
<head>
	<title>Temple Of Doom</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, shrink-to-fit=no">


	<style type="text/css">

		* {
			margin: 0px;
			padding: 0px;
		}

		body {
			overflow: hidden;
		}
		
		#world {
			height: 100%;
			width: 100%;
			background-color: red;
		}

	</style>

	<script src="./js/libs/three.js"></script>
	<script src="./js/libs/stats.min.js"></script>
	<script src="./js/libs/OrbitControls.js"></script>

	<script src="./js/Atlas.js"></script>
	<script src="./js/AtlasHelper.js"></script>
	<script src="./js/SquareHelper.js"></script>

</head>


<body>

	<canvas id="world"></canvas>

	<script type="text/javascript">
		
		var scene, camera, renderer, controls, stats ;
		var atlas, square, squareHelper;

		window.addEventListener('load', ()=> {
			init();
		});



		function init() {

			scene = new THREE.Scene();
			scene.background = new THREE.Color(0x555555);

			camera = new THREE.PerspectiveCamera( 20, window.innerWidth/window.innerHeight, 1, 100 );
			camera.position.z = 20;
			camera.lookAt( 0, 0, 0 );

			controls = new THREE.OrbitControls( camera, document.body );

			renderer = new THREE.WebGLRenderer({antialias:true, canvas:document.getElementById('world')});
			renderer.setSize( window.innerWidth, window.innerHeight );


			atlas = Atlas();
			atlas.initVectors();

			let atlasHelper = AtlasHelper( atlas.pointsArrays );
			scene.add( atlasHelper );

			square = atlas.LogicSquare( 0.5, 0.5 );
			square.offsetY = 0.2;
			square.helper = SquareHelper( square );
			scene.add( square.helper );

			loop();
		};



		function loop() {
			requestAnimationFrame( loop );
			renderer.render( scene, camera );
			square.move( 0.005, 0, 0 );
		};


	</script>

</body>
</html>